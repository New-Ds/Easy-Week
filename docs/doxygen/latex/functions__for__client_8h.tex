\doxysection{client/functions\+\_\+for\+\_\+client.h File Reference}
\hypertarget{functions__for__client_8h}{}\label{functions__for__client_8h}\index{client/functions\_for\_client.h@{client/functions\_for\_client.h}}
{\ttfamily \#include $<$QString$>$}\newline
{\ttfamily \#include "{}Singleton.\+h"{}}\newline
Include dependency graph for functions\+\_\+for\+\_\+client.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{functions__for__client_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{functions__for__client_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
QString \mbox{\hyperlink{functions__for__client_8h_aaeef61cff0ff956865a7521c007e41cc}{auth}} (QString login, QString password)
\begin{DoxyCompactList}\small\item\em Авторизация пользователя. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{functions__for__client_8h_a9638764c61635aa7172dc25ef99ce281}{reg}} (QString login, QString password, QString email)
\begin{DoxyCompactList}\small\item\em Регистрация нового пользователя. \end{DoxyCompactList}\item 
QString \mbox{\hyperlink{functions__for__client_8h_a80d2dcf81ccda5494a09d546d287fbf5}{get\+\_\+stable\+\_\+stat}} ()
\begin{DoxyCompactList}\small\item\em Получение стабильной статистики. \end{DoxyCompactList}\item 
QString \mbox{\hyperlink{functions__for__client_8h_afa0e0e567062f87c4f78a1c848713dc3}{get\+\_\+dynamic\+\_\+stat}} ()
\begin{DoxyCompactList}\small\item\em Получение динамической статистики. \end{DoxyCompactList}\item 
QByte\+Array \mbox{\hyperlink{functions__for__client_8h_ab8bda875989629df9b683e881296b32d}{get\+\_\+all\+\_\+users}} ()
\begin{DoxyCompactList}\small\item\em Получение списка всех пользователей. \end{DoxyCompactList}\item 
QByte\+Array \mbox{\hyperlink{functions__for__client_8h_a6d4386c36a7ed61c61cf3d1bad354f27}{check\+\_\+task}} ()
\begin{DoxyCompactList}\small\item\em Проверка задачи (рациона). \end{DoxyCompactList}\item 
QByte\+Array \mbox{\hyperlink{functions__for__client_8h_aa70831eddff4b8ed7a04647778a35747}{menu\+\_\+export}} ()
\begin{DoxyCompactList}\small\item\em Экспорт меню. \end{DoxyCompactList}\item 
QByte\+Array \mbox{\hyperlink{functions__for__client_8h_a73b3ae758a8cf3621318d27cd1a17722}{get\+\_\+products}} (QString user\+Id)
\begin{DoxyCompactList}\small\item\em Получение всех продуктов пользователя. \end{DoxyCompactList}\item 
QByte\+Array \mbox{\hyperlink{functions__for__client_8h_a48a4f2da0c749370a70323e13422a698}{add\+\_\+product}} (QString id, QString name, int proteins, int fats, int carbs, int weight, int cost, int type)
\begin{DoxyCompactList}\small\item\em Добавление нового продукта. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{functions__for__client_8h_a8ebcc70a2024aab70883f094fc35849e}{get\+\_\+user\+\_\+count}} ()
\begin{DoxyCompactList}\small\item\em Получение общего количества пользователей. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{functions__for__client_8h_a4ddd067c5a29f76aead93c977a05113a}{get\+\_\+product\+\_\+count}} ()
\begin{DoxyCompactList}\small\item\em Получение общего количества продуктов. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{functions__for__client_8h_a4d269e13002c5cded37bee9ade854d93}{get\+\_\+weekly\+\_\+logins}} ()
\begin{DoxyCompactList}\small\item\em Получение количества входов за неделю. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{functions__for__client_8h_a2d6f70d14e474616a4a16a72485c2f0e}{get\+\_\+monthly\+\_\+logins}} ()
\begin{DoxyCompactList}\small\item\em Получение количества входов за месяц. \end{DoxyCompactList}\item 
QByte\+Array \mbox{\hyperlink{functions__for__client_8h_a6496e445a644cca89c6252f6e7adecb0}{add\+\_\+favorite\+\_\+ration}} (const QString\+List \&container)
\begin{DoxyCompactList}\small\item\em Добавление рациона в избранное. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{functions__for__client_8h_a064e99d59eaa1d8cccef20b3192df015}{add\+\_\+ration\+\_\+to\+\_\+favorites}} (const QString \&user\+Id, const QString \&ration\+Id)
\begin{DoxyCompactList}\small\item\em Добавление существующего рациона в избранное. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{functions__for__client_8h_a6496e445a644cca89c6252f6e7adecb0}\index{functions\_for\_client.h@{functions\_for\_client.h}!add\_favorite\_ration@{add\_favorite\_ration}}
\index{add\_favorite\_ration@{add\_favorite\_ration}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{add\_favorite\_ration()}{add\_favorite\_ration()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a6496e445a644cca89c6252f6e7adecb0} 
QByte\+Array add\+\_\+favorite\+\_\+ration (\begin{DoxyParamCaption}\item[{const QString\+List \&}]{container}{}\end{DoxyParamCaption})}



Добавление рациона в избранное. 


\begin{DoxyParams}{Parameters}
{\em container} & Контейнер с параметрами рациона. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Массив байтов с результатом добавления.
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em container} & Список данных. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Результат добавления в избранное в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00294\ \ \ \ \ QString\ userId\ =\ container[1];\ \textcolor{comment}{//\ ID\ пользователя}}
\DoxyCodeLine{00295\ \ \ \ \ QString\ rationId\ =\ container[2];\ \textcolor{comment}{//\ ID\ рациона}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =\ \mbox{\hyperlink{func2serv_8cpp_a064e99d59eaa1d8cccef20b3192df015}{add\_ration\_to\_favorites}}(userId,\ rationId);\ \textcolor{comment}{//\ Вызов\ функции-\/заглушки}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{keywordflow}{if}\ (success)\ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Ration\ successfully\ added\ to\ favorites\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00301\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Error:\ failed\ to\ add\ ration\ to\ favorites\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00303\ \ \ \ \ \}}
\DoxyCodeLine{00304\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a48a4f2da0c749370a70323e13422a698}\index{functions\_for\_client.h@{functions\_for\_client.h}!add\_product@{add\_product}}
\index{add\_product@{add\_product}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{add\_product()}{add\_product()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a48a4f2da0c749370a70323e13422a698} 
QByte\+Array add\+\_\+product (\begin{DoxyParamCaption}\item[{QString}]{id}{, }\item[{QString}]{name}{, }\item[{int}]{proteins}{, }\item[{int}]{fats}{, }\item[{int}]{carbs}{, }\item[{int}]{weight}{, }\item[{int}]{cost}{, }\item[{int}]{type}{}\end{DoxyParamCaption})}



Добавление нового продукта. 


\begin{DoxyParams}{Parameters}
{\em id} & Идентификатор пользователя. \\
\hline
{\em name} & Название продукта. \\
\hline
{\em proteins} & Количество белков. \\
\hline
{\em fats} & Количество жиров. \\
\hline
{\em carbs} & Количество углеводов. \\
\hline
{\em weight} & Вес продукта. \\
\hline
{\em cost} & Стоимость продукта. \\
\hline
{\em type} & Тип продукта. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Массив байтов с результатом операции. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{class_client_singleton}{ClientSingleton}}\&\ client\ =\ \mbox{\hyperlink{class_client_singleton_addfb20092076c2a67a058b26f7bc399a}{ClientSingleton::getInstance}}();}
\DoxyCodeLine{00079\ \ \ \ \ QStringList\ params\ =\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}add\_product"{}},}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ id,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ name,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ QString::number(proteins),}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ QString::number(fats),}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ QString::number(carbs),}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ QString::number(weight),}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ QString::number(cost),}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ QString::number(type)}
\DoxyCodeLine{00089\ \ \ \ \ \};}
\DoxyCodeLine{00090\ \ \ \ \ QByteArray\ response\ =\ client.\mbox{\hyperlink{class_client_singleton_af0ffa3bef8214e9929b4a04293c15564}{send\_msg}}(params);}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ response;}
\DoxyCodeLine{00092\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a064e99d59eaa1d8cccef20b3192df015}\index{functions\_for\_client.h@{functions\_for\_client.h}!add\_ration\_to\_favorites@{add\_ration\_to\_favorites}}
\index{add\_ration\_to\_favorites@{add\_ration\_to\_favorites}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{add\_ration\_to\_favorites()}{add\_ration\_to\_favorites()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a064e99d59eaa1d8cccef20b3192df015} 
bool add\+\_\+ration\+\_\+to\+\_\+favorites (\begin{DoxyParamCaption}\item[{const QString \&}]{user\+Id}{, }\item[{const QString \&}]{ration\+Id}{}\end{DoxyParamCaption})}



Добавление существующего рациона в избранное. 


\begin{DoxyParams}{Parameters}
{\em user\+Id} & Идентификатор пользователя. \\
\hline
{\em ration\+Id} & Идентификатор рациона. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true, если успешно; иначе — false.
\end{DoxyReturn}
Добавление существующего рациона в избранное.


\begin{DoxyParams}{Parameters}
{\em user\+Id} & Идентификатор пользователя. \\
\hline
{\em ration\+Id} & Идентификатор рациона. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Результат добавления в избранное. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00306\ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Adding\ ration\ for\ user:"{}}\ <<\ userId\ <<\ \textcolor{stringliteral}{"{},\ ration\ ID:"{}}\ <<\ rationId;}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Заглушка,\ потом\ заменить\ на\ SQL-\/запрос}}
\DoxyCodeLine{00308\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_aaeef61cff0ff956865a7521c007e41cc}\index{functions\_for\_client.h@{functions\_for\_client.h}!auth@{auth}}
\index{auth@{auth}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{auth()}{auth()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_aaeef61cff0ff956865a7521c007e41cc} 
QString auth (\begin{DoxyParamCaption}\item[{QString}]{login}{, }\item[{QString}]{password}{}\end{DoxyParamCaption})}



Авторизация пользователя. 


\begin{DoxyParams}{Parameters}
{\em login} & Логин пользователя. \\
\hline
{\em password} & Пароль пользователя. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Ответ от сервера. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00009\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{class_client_singleton}{ClientSingleton}}\&\ client\ =\ \mbox{\hyperlink{class_client_singleton_addfb20092076c2a67a058b26f7bc399a}{ClientSingleton::getInstance}}();}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \ \ \ \ QString\ response\ =\ client.\mbox{\hyperlink{class_client_singleton_af0ffa3bef8214e9929b4a04293c15564}{send\_msg}}(QStringList\{\textcolor{stringliteral}{"{}auth"{}},\ email,\ password\});}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Авторизация:\ "{}}\ <<\ response;}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordflow}{return}\ response;}
\DoxyCodeLine{00018\ \};}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a6d4386c36a7ed61c61cf3d1bad354f27}\index{functions\_for\_client.h@{functions\_for\_client.h}!check\_task@{check\_task}}
\index{check\_task@{check\_task}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{check\_task()}{check\_task()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a6d4386c36a7ed61c61cf3d1bad354f27} 
QByte\+Array check\+\_\+task (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Проверка задачи (рациона). 

\begin{DoxyReturn}{Returns}
Массив байтов с результатом проверки.
\end{DoxyReturn}
Проверка задачи (рациона).

\begin{DoxyReturn}{Returns}
Результат проверки задания в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Task\ was\ succesful\ completed\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00205\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_ab8bda875989629df9b683e881296b32d}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_all\_users@{get\_all\_users}}
\index{get\_all\_users@{get\_all\_users}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_all\_users()}{get\_all\_users()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_ab8bda875989629df9b683e881296b32d} 
QByte\+Array get\+\_\+all\+\_\+users (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение списка всех пользователей. 

\begin{DoxyReturn}{Returns}
Массив байтов с данными пользователей.
\end{DoxyReturn}
Получение списка всех пользователей.

\begin{DoxyReturn}{Returns}
Список всех пользователей в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00236\ \ \ \ \ QStringList\ users;}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{comment}{//\ fetch\_users\_from\_db(users);}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \ \ QString\ response;}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ QString\&\ user\ :\ users)\ \{}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ response\ +=\ user\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00243\ \ \ \ \ \}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordflow}{return}\ response.toUtf8();}
\DoxyCodeLine{00246\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_afa0e0e567062f87c4f78a1c848713dc3}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_dynamic\_stat@{get\_dynamic\_stat}}
\index{get\_dynamic\_stat@{get\_dynamic\_stat}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_dynamic\_stat()}{get\_dynamic\_stat()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_afa0e0e567062f87c4f78a1c848713dc3} 
QString get\+\_\+dynamic\+\_\+stat (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение динамической статистики. 

\begin{DoxyReturn}{Returns}
JSON-\/строка с данными статистики.

Динамическая статистика в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordtype}{int}\ weeklyLogins\ =\ 0;}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordtype}{int}\ monthlyLogins\ =\ 0;}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{comment}{//\ Получаем\ данные\ из\ БД\ (пока\ заглушки)}}
\DoxyCodeLine{00284\ \ \ \ \ weeklyLogins\ =\ \mbox{\hyperlink{func2serv_8cpp_a4d269e13002c5cded37bee9ade854d93}{get\_weekly\_logins}}();}
\DoxyCodeLine{00285\ \ \ \ \ monthlyLogins\ =\ \mbox{\hyperlink{func2serv_8cpp_a2d6f70d14e474616a4a16a72485c2f0e}{get\_monthly\_logins}}();}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ Формируем\ строку\ ответа}}
\DoxyCodeLine{00288\ \ \ \ \ QString\ response\ =\ \textcolor{stringliteral}{"{}Logins\ per\ week:\ "{}}\ +\ QString::number(weeklyLogins)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}}\ +}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Logins\ per\ month:\ "{}}\ +\ QString::number(monthlyLogins)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{keywordflow}{return}\ response.toUtf8();}
\DoxyCodeLine{00292\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a2d6f70d14e474616a4a16a72485c2f0e}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_monthly\_logins@{get\_monthly\_logins}}
\index{get\_monthly\_logins@{get\_monthly\_logins}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_monthly\_logins()}{get\_monthly\_logins()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a2d6f70d14e474616a4a16a72485c2f0e} 
int get\+\_\+monthly\+\_\+logins (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение количества входов за месяц. 

\begin{DoxyReturn}{Returns}
Количество входов.

Количество входов за месяц. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{comment}{//\ Заглушка,\ пока\ без\ БД}}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keywordflow}{return}\ 312;\ \textcolor{comment}{//\ Примерное\ значение}}
\DoxyCodeLine{00278\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a4ddd067c5a29f76aead93c977a05113a}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_product\_count@{get\_product\_count}}
\index{get\_product\_count@{get\_product\_count}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_product\_count()}{get\_product\_count()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a4ddd067c5a29f76aead93c977a05113a} 
int get\+\_\+product\+\_\+count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение общего количества продуктов. 

\begin{DoxyReturn}{Returns}
Количество продуктов.
\end{DoxyReturn}
Получение общего количества продуктов.

\begin{DoxyReturn}{Returns}
Количество продуктов. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{comment}{//\ Здесь\ будет\ SQL-\/запрос,\ пока\ заглушка}}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keywordflow}{return}\ 732;\ \textcolor{comment}{//\ Примерное\ значение}}
\DoxyCodeLine{00255\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a73b3ae758a8cf3621318d27cd1a17722}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_products@{get\_products}}
\index{get\_products@{get\_products}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_products()}{get\_products()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a73b3ae758a8cf3621318d27cd1a17722} 
QByte\+Array get\+\_\+products (\begin{DoxyParamCaption}\item[{QString}]{user\+Id}{}\end{DoxyParamCaption})}



Получение всех продуктов пользователя. 


\begin{DoxyParams}{Parameters}
{\em user\+Id} & Идентификатор пользователя. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Массив байтов с продуктами.
\end{DoxyReturn}
Получение всех продуктов пользователя.


\begin{DoxyParams}{Parameters}
{\em User\+Id} & Идентификатор пользователя. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Список продуктов в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{class_data_base_singleton}{DataBaseSingleton}}*\ db\ =\ \mbox{\hyperlink{class_data_base_singleton_ae1a24c20c524fd67554e1ffe66319ede}{DataBaseSingleton::getInstance}}();}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordtype}{int}\ userIdInt\ =\ userId.toInt();}
\DoxyCodeLine{00219\ \ \ \ \ QVector<QVariantMap>\ products\ =\ db-\/>\mbox{\hyperlink{class_data_base_singleton_a84fe7936dd15c077eff86d7884ce3049}{getProductsByUser}}(userIdInt);}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ QJsonArray\ jsonArray;}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ QVariantMap\&\ product\ :\ products)\ \{}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ QJsonObject\ obj\ =\ QJsonObject::fromVariantMap(product);}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ jsonArray.append(obj);}
\DoxyCodeLine{00225\ \ \ \ \ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ QJsonDocument\ doc(jsonArray);}
\DoxyCodeLine{00228\ \ \ \ \ QByteArray\ jsonBytes\ =\ doc.toJson(QJsonDocument::Compact);}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Отправляем\ продукты\ в\ виде\ JSON:"{}}\ <<\ jsonBytes;}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{keywordflow}{return}\ jsonBytes;}
\DoxyCodeLine{00233\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a80d2dcf81ccda5494a09d546d287fbf5}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_stable\_stat@{get\_stable\_stat}}
\index{get\_stable\_stat@{get\_stable\_stat}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_stable\_stat()}{get\_stable\_stat()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a80d2dcf81ccda5494a09d546d287fbf5} 
QString get\+\_\+stable\+\_\+stat (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение стабильной статистики. 

\begin{DoxyReturn}{Returns}
JSON-\/строка с данными статистики.

Стабильная статистика в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{keywordtype}{int}\ userCount\ =\ 0;}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordtype}{int}\ productCount\ =\ 0;}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \ \ userCount\ =\ \mbox{\hyperlink{func2serv_8cpp_a8ebcc70a2024aab70883f094fc35849e}{get\_user\_count}}();}
\DoxyCodeLine{00262\ \ \ \ \ productCount\ =\ \mbox{\hyperlink{func2serv_8cpp_a4ddd067c5a29f76aead93c977a05113a}{get\_product\_count}}();}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{comment}{//\ Формируем\ строку\ ответа}}
\DoxyCodeLine{00265\ \ \ \ \ QString\ response\ =\ \textcolor{stringliteral}{"{}Users:\ "{}}\ +\ QString::number(userCount)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}}\ +}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Products:\ "{}}\ +\ QString::number(productCount)\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keywordflow}{return}\ response.toUtf8();}
\DoxyCodeLine{00269\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a8ebcc70a2024aab70883f094fc35849e}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_user\_count@{get\_user\_count}}
\index{get\_user\_count@{get\_user\_count}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_user\_count()}{get\_user\_count()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a8ebcc70a2024aab70883f094fc35849e} 
int get\+\_\+user\+\_\+count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение общего количества пользователей. 

\begin{DoxyReturn}{Returns}
Количество пользователей.
\end{DoxyReturn}
Получение общего количества пользователей.

\begin{DoxyReturn}{Returns}
Количество пользователей. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{comment}{//\ Здесь\ будет\ SQL-\/запрос,\ пока\ заглушка}}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordflow}{return}\ 152;\ \textcolor{comment}{//\ Примерное\ значение}}
\DoxyCodeLine{00250\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a4d269e13002c5cded37bee9ade854d93}\index{functions\_for\_client.h@{functions\_for\_client.h}!get\_weekly\_logins@{get\_weekly\_logins}}
\index{get\_weekly\_logins@{get\_weekly\_logins}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{get\_weekly\_logins()}{get\_weekly\_logins()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a4d269e13002c5cded37bee9ade854d93} 
int get\+\_\+weekly\+\_\+logins (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Получение количества входов за неделю. 

\begin{DoxyReturn}{Returns}
Количество входов.

Количество входов за неделю. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{comment}{//\ Заглушка,\ пока\ без\ БД}}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordflow}{return}\ 78;\ \textcolor{comment}{//\ Примерное\ значение}}
\DoxyCodeLine{00273\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_aa70831eddff4b8ed7a04647778a35747}\index{functions\_for\_client.h@{functions\_for\_client.h}!menu\_export@{menu\_export}}
\index{menu\_export@{menu\_export}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{menu\_export()}{menu\_export()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_aa70831eddff4b8ed7a04647778a35747} 
QByte\+Array menu\+\_\+export (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Экспорт меню. 

\begin{DoxyReturn}{Returns}
Массив байтов с экспортированными данными.

Результат экспорта меню в виде QByte\+Array. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Меню\ успешно\ экспортировано!\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{00208\ \}}

\end{DoxyCode}
\Hypertarget{functions__for__client_8h_a9638764c61635aa7172dc25ef99ce281}\index{functions\_for\_client.h@{functions\_for\_client.h}!reg@{reg}}
\index{reg@{reg}!functions\_for\_client.h@{functions\_for\_client.h}}
\doxysubsubsection{\texorpdfstring{reg()}{reg()}}
{\footnotesize\ttfamily \label{functions__for__client_8h_a9638764c61635aa7172dc25ef99ce281} 
bool reg (\begin{DoxyParamCaption}\item[{QString}]{login}{, }\item[{QString}]{password}{, }\item[{QString}]{email}{}\end{DoxyParamCaption})}



Регистрация нового пользователя. 


\begin{DoxyParams}{Parameters}
{\em login} & Логин пользователя. \\
\hline
{\em password} & Пароль. \\
\hline
{\em email} & Электронная почта. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true, если регистрация успешна; иначе — false. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{class_client_singleton}{ClientSingleton}}\&\ client\ =\ \mbox{\hyperlink{class_client_singleton_addfb20092076c2a67a058b26f7bc399a}{ClientSingleton::getInstance}}();}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ QString\ response\ =\ client.\mbox{\hyperlink{class_client_singleton_af0ffa3bef8214e9929b4a04293c15564}{send\_msg}}(QStringList\{\textcolor{stringliteral}{"{}reg"{}},\ login,\ email,\ password\});}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ QStringList\ parts\ =\ response.split(\textcolor{stringliteral}{"{}//"{}});}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{comment}{//\ проверка\ на\ успешность\ регистрации}}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordflow}{if}\ (parts[0]\ ==\ \textcolor{stringliteral}{"{}reg\_success"{}})\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00031\ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00033\ \};}

\end{DoxyCode}
