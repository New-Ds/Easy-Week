\doxysection{databasesingleton.\+h}
\hypertarget{databasesingleton_8h_source}{}\label{databasesingleton_8h_source}\index{server/databasesingleton.h@{server/databasesingleton.h}}
\mbox{\hyperlink{databasesingleton_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ DATABASESINGLETON\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ DATABASESINGLETON\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <QSqlDatabase>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <QSqlQuery>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <QSqlError>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <QDebug>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <QVariantMap>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <QVector>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_data_base_singleton}{DataBaseSingleton}};}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_singleton_destroyer}{SingletonDestroyer}}\ \{}
\DoxyCodeLine{00019\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{class_data_base_singleton}{DataBaseSingleton}}*\ \mbox{\hyperlink{class_singleton_destroyer_a66a75552c83eb8515e6d458d7a6b0178}{p\_instance}};\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00027\ \ \ \ \ \mbox{\hyperlink{class_singleton_destroyer_a8ac3166871f4c5411edfdb13594dee15}{\string~SingletonDestroyer}}();}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_singleton_destroyer_abcaf525b6af81fbb5717c7dae73af8ec}{initialize}}(\mbox{\hyperlink{class_data_base_singleton}{DataBaseSingleton}}*\ p);}
\DoxyCodeLine{00035\ \};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}\ \{}
\DoxyCodeLine{00044\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}*\ \mbox{\hyperlink{class_data_base_singleton_abf86267afcfebbe05658438ff0ccfdfd}{p\_instance}};\ \ \ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_data_base_singleton_aa93ce997b9645496c0e17460fba08432}{SingletonDestroyer}}\ \mbox{\hyperlink{class_data_base_singleton_a414f1ff51603535a839d5fc2e24b65e0}{destroyer}};\ \ \ \ }
\DoxyCodeLine{00047\ \ \ \ \ QSqlDatabase\ \mbox{\hyperlink{class_data_base_singleton_a929da7bbfe9e068b4c3bc5a095e6156a}{db}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}();}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{class_data_base_singleton_abe02a9a0f33a2664ba969d20d777d4d9}{DataBaseSingleton}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}\&)\ =\ \textcolor{keyword}{delete};\ }
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}\&\ \mbox{\hyperlink{class_data_base_singleton_af310f74ceebe21ef29454dd7eccac19a}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}\&)\ =\ \textcolor{keyword}{delete};\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{class_data_base_singleton_aa0d2615a21bdb8d7367a513c802e32c1}{\string~DataBaseSingleton}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_data_base_singleton_aa93ce997b9645496c0e17460fba08432}{SingletonDestroyer}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_data_base_singleton_aa289e69de3195fef9593052246b9b1b0}{DataBaseSingleton}}*\ \mbox{\hyperlink{class_data_base_singleton_ae1a24c20c524fd67554e1ffe66319ede}{getInstance}}();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_data_base_singleton_a59bda63308000a018c5bdc1989582e50}{initialize}}(\textcolor{keyword}{const}\ QString\&\ databaseName);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00093\ \ \ \ \ QSqlQuery\ \mbox{\hyperlink{class_data_base_singleton_a4aa9edfd87be83120492e7b5c8de6151}{executeQuery}}(\textcolor{keyword}{const}\ QString\&\ query,\ \textcolor{keyword}{const}\ QVariantMap\&\ params\ =\ QVariantMap());}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_data_base_singleton_a51bd7dc4507c5f3d04a2903899e13d42}{checkUserCredentials}}(\textcolor{keyword}{const}\ QString\&\ login,\ \textcolor{keyword}{const}\ QString\&\ password);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_data_base_singleton_af17db97dfc40b0fa48b3ed9abeacca76}{addUser}}(\textcolor{keyword}{const}\ QString\&\ name,\ \textcolor{keyword}{const}\ QString\&\ email,\ \textcolor{keyword}{const}\ QString\&\ password,\ \textcolor{keywordtype}{bool}\ isAdmin\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_data_base_singleton_a3fe2a5e1f41a408023066e8caf63b523}{addProduct}}(\textcolor{keywordtype}{int}\ userId,\ \textcolor{keyword}{const}\ QString\&\ name,\ \textcolor{keywordtype}{int}\ proteins,\ \textcolor{keywordtype}{int}\ fatness,\ \textcolor{keywordtype}{int}\ carbs,\ \textcolor{keywordtype}{int}\ weight,\ \textcolor{keywordtype}{int}\ cost,\ \textcolor{keywordtype}{int}\ type);}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00136\ \ \ \ \ QVector<QVariantMap>\ \mbox{\hyperlink{class_data_base_singleton_a84fe7936dd15c077eff86d7884ce3049}{getProductsByUser}}(\textcolor{keywordtype}{int}\ userId);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_data_base_singleton_a515aed6cbbb34fe71f254943a70d504b}{addFavoriteRation}}(\textcolor{keywordtype}{int}\ userId,\ \textcolor{keyword}{const}\ QVector<int>\&\ productIds,\ \textcolor{keywordtype}{int}\ calories,\ \textcolor{keywordtype}{int}\ allCost,\ \textcolor{keywordtype}{int}\ allWeight);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00156\ \ \ \ \ QVector<QVariantMap>\ \mbox{\hyperlink{class_data_base_singleton_afee32779221eaa5f92eb0c8a8666bb50}{getFavoritesByUser}}(\textcolor{keywordtype}{int}\ userId);}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_data_base_singleton_ab2877d5184cd7af28f1ea3b31f523280}{updateStatistics}}(\textcolor{keywordtype}{int}\ registrations,\ \textcolor{keywordtype}{int}\ visits,\ \textcolor{keywordtype}{int}\ generations);}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00173\ \ \ \ \ QVariantMap\ \mbox{\hyperlink{class_data_base_singleton_aad20b90cdb02aab3df1f27a9e4f882a3}{getStatistics}}();}
\DoxyCodeLine{00174\ \};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ DATABASESINGLETON\_H}}

\end{DoxyCode}
