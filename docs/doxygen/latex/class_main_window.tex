\doxysection{Main\+Window Class Reference}
\hypertarget{class_main_window}{}\label{class_main_window}\index{MainWindow@{MainWindow}}


Главное окно клиента.  




{\ttfamily \#include $<$mainwindow.\+h$>$}



Inheritance diagram for Main\+Window\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=160pt]{class_main_window__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Main\+Window\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=160pt]{class_main_window__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_main_window_a9a15eca3ebf289292af72b78b2cf1b56}{slot\+\_\+show}} ()
\begin{DoxyCompactList}\small\item\em Показывает главное окно. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a91a9ec299ac67e179bd9e3acbf23eb0c}{set\+\_\+current\+\_\+user}} (QString \mbox{\hyperlink{class_main_window_a9ba91413f46ab4481ab8042ac8f2b799}{id}}, QString \mbox{\hyperlink{class_main_window_a4338481359e3e8145930703e0089340f}{login}}, QString \mbox{\hyperlink{class_main_window_a46daecfbbd4056b097b3b470cc4f1618}{email}})
\begin{DoxyCompactList}\small\item\em Устанавливает данные текущего пользователя. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a9e4beb27bda168783b6e71d486ebcb90}{handle\+Product\+Added}} (QString name, int proteins, int fats, int carbs, int weight, int cost, int type)
\begin{DoxyCompactList}\small\item\em Обрабатывает добавление нового продукта. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_main_window_afa09d58e484be8e5c49e5f5b33f0e3d8}{add\+\_\+product}} ()
\begin{DoxyCompactList}\small\item\em Сигнал, указывающий на необходимость открыть окно добавления продукта. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_main_window_a996c5a2b6f77944776856f08ec30858d}{Main\+Window}} (QWidget \texorpdfstring{$\ast$}{*}parent=nullptr)
\begin{DoxyCompactList}\small\item\em Конструктор класса \doxylink{class_main_window}{Main\+Window}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}{\texorpdfstring{$\sim$}{\string~}\+Main\+Window}} ()
\begin{DoxyCompactList}\small\item\em Деструктор. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
QString \mbox{\hyperlink{class_main_window_a9ba91413f46ab4481ab8042ac8f2b799}{id}}
\begin{DoxyCompactList}\small\item\em Идентификатор текущего пользователя. \end{DoxyCompactList}\item 
QString \mbox{\hyperlink{class_main_window_a4338481359e3e8145930703e0089340f}{login}}
\begin{DoxyCompactList}\small\item\em Логин пользователя. \end{DoxyCompactList}\item 
QString \mbox{\hyperlink{class_main_window_a25493964c8f550b2380a12616fbc8250}{password}}
\begin{DoxyCompactList}\small\item\em Пароль пользователя. \end{DoxyCompactList}\item 
QString \mbox{\hyperlink{class_main_window_a46daecfbbd4056b097b3b470cc4f1618}{email}}
\begin{DoxyCompactList}\small\item\em Электронная почта пользователя. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_main_window_a9c7432f74a43023beb13ba1250e9c6bd}{on\+\_\+stable\+Stat\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Стабильная статистика"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a0c422ab00483005eb0251aa551869d70}{on\+\_\+dynamic\+Stat\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Динамическая статистика"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a2ccbff8c6af34935185f027972958b5c}{on\+\_\+table\+Users\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Список пользователей"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a11507d87b5fb4a79fb557e8e313c90cd}{on\+\_\+product\+List\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Список продуктов"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_aa811d4e586dc8aee0fb9cbdc953342a2}{on\+\_\+create\+Men\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Создать рацион"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_a0a031c02eff36254765c9030a443ab04}{on\+\_\+add\+Product\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Добавить продукт"{}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_main_window_afcbbbc80001065310d2cd6221c5be55c}{on\+\_\+exit\+Button\+\_\+clicked}} ()
\begin{DoxyCompactList}\small\item\em Обработчик нажатия на кнопку "{}Выход"{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Ui\+::\+Main\+Window \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}
\begin{DoxyCompactList}\small\item\em Указатель на UI-\/элементы окна. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Главное окно клиента. 

Отвечает за отображение основной информации, взаимодействие с продуктами, пользователями, рационом и статистикой. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_main_window_a996c5a2b6f77944776856f08ec30858d}\index{MainWindow@{MainWindow}!MainWindow@{MainWindow}}
\index{MainWindow@{MainWindow}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{MainWindow()}{MainWindow()}}
{\footnotesize\ttfamily \label{class_main_window_a996c5a2b6f77944776856f08ec30858d} 
Main\+Window\+::\+Main\+Window (\begin{DoxyParamCaption}\item[{QWidget \texorpdfstring{$\ast$}{*}}]{parent}{ = {\ttfamily nullptr}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Конструктор класса \doxylink{class_main_window}{Main\+Window}. 


\begin{DoxyParams}{Parameters}
{\em parent} & Родительский виджет. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00012\ \ \ \ \ :\ QMainWindow(parent)}
\DoxyCodeLine{00013\ \ \ \ \ ,\ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}(\textcolor{keyword}{new}\ Ui::MainWindow) }
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>setupUi(\textcolor{keyword}{this});}
\DoxyCodeLine{00016\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7}\index{MainWindow@{MainWindow}!````~MainWindow@{\texorpdfstring{$\sim$}{\string~}MainWindow}}
\index{````~MainWindow@{\texorpdfstring{$\sim$}{\string~}MainWindow}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MainWindow()}{\string~MainWindow()}}
{\footnotesize\ttfamily \label{class_main_window_ae98d00a93bc118200eeef9f9bba1dba7} 
Main\+Window\+::\texorpdfstring{$\sim$}{\string~}\+Main\+Window (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Деструктор. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00019\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}};}
\DoxyCodeLine{00021\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_main_window_afa09d58e484be8e5c49e5f5b33f0e3d8}\index{MainWindow@{MainWindow}!add\_product@{add\_product}}
\index{add\_product@{add\_product}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{add\_product}{add\_product}}
{\footnotesize\ttfamily \label{class_main_window_afa09d58e484be8e5c49e5f5b33f0e3d8} 
void Main\+Window\+::add\+\_\+product (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [signal]}}



Сигнал, указывающий на необходимость открыть окно добавления продукта. 

\Hypertarget{class_main_window_a9e4beb27bda168783b6e71d486ebcb90}\index{MainWindow@{MainWindow}!handleProductAdded@{handleProductAdded}}
\index{handleProductAdded@{handleProductAdded}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{handleProductAdded}{handleProductAdded}}
{\footnotesize\ttfamily \label{class_main_window_a9e4beb27bda168783b6e71d486ebcb90} 
void Main\+Window\+::handle\+Product\+Added (\begin{DoxyParamCaption}\item[{QString}]{name}{, }\item[{int}]{proteins}{, }\item[{int}]{fats}{, }\item[{int}]{carbs}{, }\item[{int}]{weight}{, }\item[{int}]{cost}{, }\item[{int}]{type}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Обрабатывает добавление нового продукта. 


\begin{DoxyParams}{Parameters}
{\em name} & Название продукта. \\
\hline
{\em proteins} & Белки. \\
\hline
{\em fats} & Жиры. \\
\hline
{\em carbs} & Углеводы. \\
\hline
{\em weight} & Вес. \\
\hline
{\em cost} & Стоимость. \\
\hline
{\em type} & Тип продукта. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00179\ \{}
\DoxyCodeLine{00180\ \ \ \ \ QByteArray\ response\ =\ \mbox{\hyperlink{class_main_window_afa09d58e484be8e5c49e5f5b33f0e3d8}{::add\_product}}(\textcolor{keywordtype}{id},\ name,\ proteins,\ fats,\ carbs,\ weight,\ cost,\ type);}
\DoxyCodeLine{00181\ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Response\ from\ server:"{}}\ <<\ response;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{if}\ (response.contains(\textcolor{stringliteral}{"{}success"{}}))\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ QMessageBox::information(\textcolor{keyword}{this},\ \textcolor{stringliteral}{"{}Успех"{}},\ \textcolor{stringliteral}{"{}Продукт\ успешно\ добавлен!"{}});}
\DoxyCodeLine{00185\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ QMessageBox::warning(\textcolor{keyword}{this},\ \textcolor{stringliteral}{"{}Ошибка"{}},\ \textcolor{stringliteral}{"{}Не\ удалось\ добавить\ продукт:\ "{}}\ +\ response);}
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a0a031c02eff36254765c9030a443ab04}\index{MainWindow@{MainWindow}!on\_addProductButton\_clicked@{on\_addProductButton\_clicked}}
\index{on\_addProductButton\_clicked@{on\_addProductButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_addProductButton\_clicked}{on\_addProductButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_a0a031c02eff36254765c9030a443ab04} 
void Main\+Window\+::on\+\_\+add\+Product\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Добавить продукт"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00173\ \{}
\DoxyCodeLine{00174\ \ \ \ \ emit\ \mbox{\hyperlink{class_main_window_afa09d58e484be8e5c49e5f5b33f0e3d8}{add\_product}}();\ \ \textcolor{comment}{//\ Отправляем\ сигнал\ для\ открытия\ окна\ добавления\ продукта}}
\DoxyCodeLine{00175\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_aa811d4e586dc8aee0fb9cbdc953342a2}\index{MainWindow@{MainWindow}!on\_createMenButton\_clicked@{on\_createMenButton\_clicked}}
\index{on\_createMenButton\_clicked@{on\_createMenButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_createMenButton\_clicked}{on\_createMenButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_aa811d4e586dc8aee0fb9cbdc953342a2} 
void Main\+Window\+::on\+\_\+create\+Men\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Создать рацион"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00131\ \{}
\DoxyCodeLine{00132\ \ \ \ \ QScrollArea*\ scrollArea\ =\ qobject\_cast<QScrollArea*>(\mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer-\/>findChild<QWidget*>(\textcolor{stringliteral}{"{}innerScrollArea"{}}));}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{if}\ (!scrollArea)\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ scrollArea\ =\ \textcolor{keyword}{new}\ QScrollArea(\mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ scrollArea-\/>setObjectName(\textcolor{stringliteral}{"{}innerScrollArea"{}});}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ scrollArea-\/>setWidgetResizable(\textcolor{keyword}{false});\ \textcolor{comment}{//\ Отключаем\ авто-\/растягивание}}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ scrollArea-\/>setHorizontalScrollBarPolicy(Qt::ScrollBarAsNeeded);}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer-\/>layout())\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer-\/>layout();}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer-\/>setLayout(\textcolor{keyword}{new}\ QVBoxLayout());}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer-\/>layout()-\/>addWidget(scrollArea);}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ QWidget*\ cardsContainer\ =\ \textcolor{keyword}{new}\ QWidget();}
\DoxyCodeLine{00149\ \ \ \ \ QHBoxLayout*\ cardsLayout\ =\ \textcolor{keyword}{new}\ QHBoxLayout(cardsContainer);}
\DoxyCodeLine{00150\ \ \ \ \ cardsLayout-\/>setSpacing(10);}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{const}\ QStringList\ days\ =\ \{\textcolor{stringliteral}{"{}ПОНЕДЕЛЬНИК"{}},\ \textcolor{stringliteral}{"{}ВТОРНИК"{}},\ \textcolor{stringliteral}{"{}СРЕДА"{}},\ \textcolor{stringliteral}{"{}ЧЕТВЕРГ"{}},\ \textcolor{stringliteral}{"{}ПЯТНИЦА"{}},\ \textcolor{stringliteral}{"{}СУББОТА"{}},\ \textcolor{stringliteral}{"{}ВОСКРЕСЕНЬЕ"{}}\};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 7;\ i++)\ \{}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ QStringList\ products\ =\ \{\textcolor{stringliteral}{"{}Курица\ c\ рисом"{}},\ \textcolor{stringliteral}{"{}Овощи"{}},\ \textcolor{stringliteral}{"{}Квас"{}}\};}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ QVector<int>\ pfc\ =\ \{34,\ 21,\ 113\};}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ menuCard*\ card\ =\ \textcolor{keyword}{new}\ menuCard(days[i],\ products,\ 623,\ pfc,\ 500,\ 219,\ cardsContainer);}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ card-\/>setFixedSize(370,\ 468);}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ cardsLayout-\/>addWidget(card);}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ 4.\ Настраиваем\ скролл}}
\DoxyCodeLine{00167\ \ \ \ \ scrollArea-\/>setWidget(cardsContainer);}
\DoxyCodeLine{00168\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a0c422ab00483005eb0251aa551869d70}\index{MainWindow@{MainWindow}!on\_dynamicStatButton\_clicked@{on\_dynamicStatButton\_clicked}}
\index{on\_dynamicStatButton\_clicked@{on\_dynamicStatButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_dynamicStatButton\_clicked}{on\_dynamicStatButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_a0c422ab00483005eb0251aa551869d70} 
void Main\+Window\+::on\+\_\+dynamic\+Stat\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Динамическая статистика"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \{}
\DoxyCodeLine{00049\ \ \ \ \ QString\ stat\ =\ \mbox{\hyperlink{func2serv_8cpp_a8a2ae0ff8263d70f4e0f30d6b0d89af7}{get\_dynamic\_stat}}();\ \textcolor{comment}{//\ вызываем\ функцию\ получения\ статистки\ из\ func\_for\_cleint\ по\ клику\ на\ кнопку}}
\DoxyCodeLine{00050\ \ \ \ \ qDebug()\ <<\ stat;}
\DoxyCodeLine{00051\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_afcbbbc80001065310d2cd6221c5be55c}\index{MainWindow@{MainWindow}!on\_exitButton\_clicked@{on\_exitButton\_clicked}}
\index{on\_exitButton\_clicked@{on\_exitButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_exitButton\_clicked}{on\_exitButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_afcbbbc80001065310d2cd6221c5be55c} 
void Main\+Window\+::on\+\_\+exit\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Выход"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00192\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{comment}{//\ Получаем\ путь\ к\ исполняемому\ файлу\ и\ аргументы}}
\DoxyCodeLine{00194\ \ \ \ \ QString\ program\ =\ QApplication::applicationFilePath();}
\DoxyCodeLine{00195\ \ \ \ \ QStringList\ arguments\ =\ QApplication::arguments();}
\DoxyCodeLine{00196\ \ \ \ \ arguments.removeFirst();\ \textcolor{comment}{//\ Удаляем\ первый\ аргумент\ (путь\ к\ программе)}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{comment}{//\ Запускаем\ новый\ экземпляр\ приложения}}
\DoxyCodeLine{00199\ \ \ \ \ QProcess::startDetached(program,\ arguments);}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{comment}{//\ Закрываем\ текущее\ приложение}}
\DoxyCodeLine{00202\ \ \ \ \ QApplication::quit();}
\DoxyCodeLine{00203\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a11507d87b5fb4a79fb557e8e313c90cd}\index{MainWindow@{MainWindow}!on\_productListButton\_clicked@{on\_productListButton\_clicked}}
\index{on\_productListButton\_clicked@{on\_productListButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_productListButton\_clicked}{on\_productListButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_a11507d87b5fb4a79fb557e8e313c90cd} 
void Main\+Window\+::on\+\_\+product\+List\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Список продуктов"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Получаем\ строку\ с\ продуктами\ (JSON)}}
\DoxyCodeLine{00065\ \ \ \ \ QByteArray\ productsJson\ =\ \mbox{\hyperlink{func2serv_8cpp_a73b3ae758a8cf3621318d27cd1a17722}{get\_products}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Сырой\ JSON\ продуктов:\ "{}}\ <<\ productsJson;}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Парсим\ JSON}}
\DoxyCodeLine{00070\ \ \ \ \ QJsonParseError\ parseError;}
\DoxyCodeLine{00071\ \ \ \ \ QJsonDocument\ doc\ =\ QJsonDocument::fromJson(productsJson,\ \&parseError);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{if}\ (parseError.error\ !=\ QJsonParseError::NoError)\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Ошибка\ парсинга\ JSON:\ "{}}\ <<\ parseError.errorString();}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{if}\ (!doc.isArray())\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Ошибка:\ ожидался\ JSON-\/массив!"{}};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00081\ \ \ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ QJsonArray\ productArray\ =\ doc.array();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ Берём\ контейнер\ и\ полностью\ очищаем\ старый\ layout\ (с\ удалением)}}
\DoxyCodeLine{00086\ \ \ \ \ QWidget*\ container\ =\ \mbox{\hyperlink{class_main_window_a35466a70ed47252a0191168126a352a5}{ui}}-\/>mainContainer;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{if}\ (QLayout*\ oldLayout\ =\ container-\/>layout())\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (QLayoutItem*\ item\ =\ oldLayout-\/>takeAt(0))\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (QWidget*\ widget\ =\ item-\/>widget())\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ widget;\ \textcolor{comment}{//\ Удаляем\ виджет}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ item;\ \textcolor{comment}{//\ Удаляем\ item}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ oldLayout;\ \textcolor{comment}{//\ Полностью\ удаляем\ старый\ layout}}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ ВСЕГДА\ создаём\ новый\ layout\ после\ удаления}}
\DoxyCodeLine{00099\ \ \ \ \ QGridLayout*\ gridLayout\ =\ \textcolor{keyword}{new}\ QGridLayout(container);}
\DoxyCodeLine{00100\ \ \ \ \ container-\/>setLayout(gridLayout);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Создаём\ карточки}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ columns\ =\ 4;}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ productArray.size();\ ++i)\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ QJsonObject\ obj\ =\ productArray[i].toObject();}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ QString\ productName\ =\ obj[\textcolor{stringliteral}{"{}name"{}}].toString();}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ price\ =\ obj[\textcolor{stringliteral}{"{}cost"{}}].toInt();}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ proteins\ =\ obj[\textcolor{stringliteral}{"{}proteins"{}}].toInt();}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ fatness\ =\ obj[\textcolor{stringliteral}{"{}fatness"{}}].toInt();}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ carbs\ =\ obj[\textcolor{stringliteral}{"{}carbs"{}}].toInt();}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ qDebug()\ <<\ \textcolor{stringliteral}{"{}Продукт\ \#"{}}\ <<\ (i\ +\ 1)}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ Name:"{}}\ <<\ productName}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ Price:"{}}\ <<\ price}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ Proteins:"{}}\ <<\ proteins}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ Fatness:"{}}\ <<\ fatness}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ Carbs:"{}}\ <<\ carbs;}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ productCard*\ card\ =\ \textcolor{keyword}{new}\ productCard(productName,\ price,\ proteins,\ fatness,\ carbs,\ container);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ gridLayout-\/>addWidget(card,\ i\ /\ columns,\ i\ \%\ columns);}
\DoxyCodeLine{00122\ \ \ \ \ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ container-\/>setVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{00125\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a9c7432f74a43023beb13ba1250e9c6bd}\index{MainWindow@{MainWindow}!on\_stableStatButton\_clicked@{on\_stableStatButton\_clicked}}
\index{on\_stableStatButton\_clicked@{on\_stableStatButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_stableStatButton\_clicked}{on\_stableStatButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_a9c7432f74a43023beb13ba1250e9c6bd} 
void Main\+Window\+::on\+\_\+stable\+Stat\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Стабильная статистика"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00041\ \{}
\DoxyCodeLine{00042\ \ \ \ \ QString\ stat\ =\ \mbox{\hyperlink{func2serv_8cpp_a2d521723770cde0e28bb41544394917b}{get\_stable\_stat}}();\ \textcolor{comment}{//\ вызываем\ функцию\ получения\ статистки\ из\ func\_for\_cleint\ по\ клику\ на\ кнопку}}
\DoxyCodeLine{00043\ \ \ \ \ qDebug()\ <<\ stat;}
\DoxyCodeLine{00044\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a2ccbff8c6af34935185f027972958b5c}\index{MainWindow@{MainWindow}!on\_tableUsersButton\_clicked@{on\_tableUsersButton\_clicked}}
\index{on\_tableUsersButton\_clicked@{on\_tableUsersButton\_clicked}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{on\_tableUsersButton\_clicked}{on\_tableUsersButton\_clicked}}
{\footnotesize\ttfamily \label{class_main_window_a2ccbff8c6af34935185f027972958b5c} 
void Main\+Window\+::on\+\_\+table\+Users\+Button\+\_\+clicked (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [slot]}}



Обработчик нажатия на кнопку "{}Список пользователей"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ \ \ QByteArray\ users\ =\ \mbox{\hyperlink{func2serv_8cpp_ab8bda875989629df9b683e881296b32d}{get\_all\_users}}();}
\DoxyCodeLine{00058\ \ \ \ \ qDebug()\ <<\ users;}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a91a9ec299ac67e179bd9e3acbf23eb0c}\index{MainWindow@{MainWindow}!set\_current\_user@{set\_current\_user}}
\index{set\_current\_user@{set\_current\_user}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{set\_current\_user}{set\_current\_user}}
{\footnotesize\ttfamily \label{class_main_window_a91a9ec299ac67e179bd9e3acbf23eb0c} 
void Main\+Window\+::set\+\_\+current\+\_\+user (\begin{DoxyParamCaption}\item[{QString}]{id}{, }\item[{QString}]{login}{, }\item[{QString}]{email}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Устанавливает данные текущего пользователя. 


\begin{DoxyParams}{Parameters}
{\em id} & Идентификатор пользователя. \\
\hline
{\em login} & Логин. \\
\hline
{\em email} & Электронная почта. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ this-\/>\textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{class_main_window_a9ba91413f46ab4481ab8042ac8f2b799}{id}};}
\DoxyCodeLine{00030\ \ \ \ \ this-\/>\mbox{\hyperlink{class_main_window_a4338481359e3e8145930703e0089340f}{login}}\ =\ \mbox{\hyperlink{class_main_window_a4338481359e3e8145930703e0089340f}{login}};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ this-\/>\mbox{\hyperlink{class_main_window_a46daecfbbd4056b097b3b470cc4f1618}{email}}\ =\ \mbox{\hyperlink{class_main_window_a46daecfbbd4056b097b3b470cc4f1618}{email}};}
\DoxyCodeLine{00033\ \}}

\end{DoxyCode}
\Hypertarget{class_main_window_a9a15eca3ebf289292af72b78b2cf1b56}\index{MainWindow@{MainWindow}!slot\_show@{slot\_show}}
\index{slot\_show@{slot\_show}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{slot\_show}{slot\_show}}
{\footnotesize\ttfamily \label{class_main_window_a9a15eca3ebf289292af72b78b2cf1b56} 
void Main\+Window\+::slot\+\_\+show (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Показывает главное окно. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ this-\/>show();}
\DoxyCodeLine{00025\ \};}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_main_window_a46daecfbbd4056b097b3b470cc4f1618}\index{MainWindow@{MainWindow}!email@{email}}
\index{email@{email}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{email}{email}}
{\footnotesize\ttfamily \label{class_main_window_a46daecfbbd4056b097b3b470cc4f1618} 
QString Main\+Window\+::email}



Электронная почта пользователя. 

\Hypertarget{class_main_window_a9ba91413f46ab4481ab8042ac8f2b799}\index{MainWindow@{MainWindow}!id@{id}}
\index{id@{id}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily \label{class_main_window_a9ba91413f46ab4481ab8042ac8f2b799} 
QString Main\+Window\+::id}



Идентификатор текущего пользователя. 

\Hypertarget{class_main_window_a4338481359e3e8145930703e0089340f}\index{MainWindow@{MainWindow}!login@{login}}
\index{login@{login}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{login}{login}}
{\footnotesize\ttfamily \label{class_main_window_a4338481359e3e8145930703e0089340f} 
QString Main\+Window\+::login}



Логин пользователя. 

\Hypertarget{class_main_window_a25493964c8f550b2380a12616fbc8250}\index{MainWindow@{MainWindow}!password@{password}}
\index{password@{password}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{password}{password}}
{\footnotesize\ttfamily \label{class_main_window_a25493964c8f550b2380a12616fbc8250} 
QString Main\+Window\+::password}



Пароль пользователя. 

\Hypertarget{class_main_window_a35466a70ed47252a0191168126a352a5}\index{MainWindow@{MainWindow}!ui@{ui}}
\index{ui@{ui}!MainWindow@{MainWindow}}
\doxysubsubsection{\texorpdfstring{ui}{ui}}
{\footnotesize\ttfamily \label{class_main_window_a35466a70ed47252a0191168126a352a5} 
Ui\+::\+Main\+Window\texorpdfstring{$\ast$}{*} Main\+Window\+::ui\hspace{0.3cm}{\ttfamily [private]}}



Указатель на UI-\/элементы окна. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
client/\mbox{\hyperlink{mainwindow_8h}{mainwindow.\+h}}\item 
client/\mbox{\hyperlink{mainwindow_8cpp}{mainwindow.\+cpp}}\end{DoxyCompactItemize}
